<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Venite.app — Liturgy Document Format (LDF) Playground</title>

  <!-- Drop in these four lines to run anywhere -->
  <link rel="stylesheet" href="/build/ldf.css">
  <script type="module" src="/build/ldf.esm.js"></script>
  <script nomodule src="/build/ldf.js"></script>
  <link href="https://fonts.googleapis.com/css?family=EB+Garamond&amp;display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" rel="stylesheet">
  <style>
    :root {
      --ldf-unison-font-weight: bold;
      --ldf-response-font-weight: bold;
    }
  </style>
</head>
<body>
    <ion-content id='example' class="content ion-padding dropcaps-plain psalmverses-true bibleverses-false">
    </ion-content>

  <script>
    document.addEventListener('ldfDocumentSelected', (ev) => console.log('document selected', ev));
    document.addEventListener('ldfDocShouldChange', (ev) => console.log('(ldfDocShouldChange)', ev));
    document.addEventListener('ldfAddChildAfter', (ev) => console.log('(ldfAddChildAfter)', ev));
    document.addEventListener('ldfAskForBibleIntros', (ev) => { 
      console.log('(ldfAskForBibleIntros)', ev.originalTarget);
      ev.originalTarget.setBibleReadingIntros([
        { "type": "text", "style": "text", "value": ["A Reading from ${shortName}."]}
      ]);
    });
    document.addEventListener('editorAskForCanticleOptions', (ev) => { 
      console.log('(editorAskForCanticleOptions)', ev.detail);
      ev.detail.setVersions({
        "bcp1979": "Rite II",
        "rite_i": "Rite I"
      })
      ev.detail.setOptions([{
        type: "psalm",
        style: "canticle",
        label: "Canticle 16. Benedictus",
        version: "bcp1979",
        value: []
      }])
    });

    const MAGNIFICAT = {"type":"psalm","style":"canticle","metadata":{"antiphon": {}},"value":[]}

    const LITURGY = {
  "hidden": false,
  "label": "Marian Antiphons",
  "version": "Rite-II",
  "value": [
    {
      "hidden": false
    },
    {
      "hidden": false,
      "date_modified": {
        "seconds": 1603539837,
        "nanoseconds": 289000000
      },
      "label": "Alma Redemptoris",
      "lastRevision": 56,
      "source": {
        "source": "",
        "api": "",
        "citation": ""
      },
      "category": [],
      "type": "liturgy",
      "slug": "alma-redemptoris",
      "metadata": {
        "preferences": {},
        "evening": true,
        "supplement": true,
        "special_preferences": {},
        "liturgyversions": []
      },
      "language": "en",
      "version": "Rite-II",
      "sharing": {
        "status": "published",
        "privacy": "public",
        "collaborators": [],
        "organization": "venite",
        "owner": "ikvC2kTwM0MhmiqfMOi2fFZynJr2"
      },
      "value": [
        {
          "hidden": false,
          "style": "text",
          "source": {
            "citation": "",
            "api": "",
            "source": ""
          },
          "type": "heading",
          "category": [],
          "value": [
            "Alma Redemptoris"
          ],
          "metadata": {
            "level": 1
          }
        },
        {
          "hidden": false,
          "style": "text",
          "type": "text",
          "value": [
            "Loving mother of the Redeemer,\ngate of heaven, star of the sea,\nassist your people who have fallen yet strive to rise again,\nTo the wonderment of nature you bore your Creator,\nyet remained a virgin after as before,\nYou who received Gabriel’s joyful greeting,\nhave pity on us poor sinners."
          ]
        },
        {
          "hidden": false,
          "value": [
            {
              "response": "",
              "label": "V.",
              "text": "The Angel of the Lord announced unto Mary,"
            },
            {
              "text": "And she conceived of the Holy Spirit.",
              "label": "R."
            }
          ],
          "type": "responsive",
          "style": "preces"
        },
        {
          "hidden": false,
          "style": "prayer",
          "type": "text",
          "value": [
            "Pour your grace into our hearts, O Lord, that we who have known the incarnation of your Son Jesus Christ, announced by an angel to the Virgin Mary, may by his cross and passion be brought to the glory of his resurrection; who lives and reigns with you, in the unity of the Holy Spirit, one God, now and for ever."
          ]
        },
        {
          "hidden": false
        },
        {
          "hidden": false
        }
      ],
      "day": {
        "evening": true,
        "date": "2020-12-19",
        "kalendar": "bcp1979",
        "slug": "saturday-third-advent",
        "propers": "saturday-third-advent",
        "week": {
          "season": "Advent",
          "slug": "third-advent",
          "color": "Blue",
          "cycle": "Advent",
          "name": "Third Sunday of Advent",
          "week": 3,
          "kalendar": "bcp1979"
        },
        "years": {
          "bcp1979_daily_office": 1,
          "bcp1979_daily_psalms": 1,
          "rclsunday": "B"
        },
        "holy_days": [],
        "season": "Advent",
        "color": "Blue"
      }
    },
    {
      "hidden": false
    },
    {
      "hidden": false
    },
    {
      "hidden": false,
      "type": "text",
      "style": "text",
      "value": [
        "Loading..."
      ]
    }
  ],
  "sharing": {
    "owner": "ikvC2kTwM0MhmiqfMOi2fFZynJr2",
    "privacy": "public",
    "status": "published",
    "organization": "venite",
    "collaborators": []
  },
  "metadata": {
    "liturgyversions": [
      "usccb"
    ],
    "special_preferences": {},
    "preferences": {},
    "evening": true,
    "supplement": true
  },
  "slug": "marian-antiphons",
  "category": [],
  "type": "liturgy",
  "lastRevision": 114,
  "language": "en",
  "source": {
    "source": "",
    "citation": "",
    "api": ""
  },
  "date_modified": {
    "seconds": 1606934519,
    "nanoseconds": 147000000
  },
  "day": {
    "evening": true,
    "date": "2020-12-19",
    "kalendar": "bcp1979",
    "slug": "saturday-third-advent",
    "propers": "saturday-third-advent",
    "week": {
      "season": "Advent",
      "slug": "third-advent",
      "color": "Blue",
      "cycle": "Advent",
      "name": "Third Sunday of Advent",
      "week": 3,
      "kalendar": "bcp1979"
    },
    "years": {
      "bcp1979_daily_office": 1,
      "bcp1979_daily_psalms": 1,
      "rclsunday": "B"
    },
    "holy_days": [],
    "season": "Advent",
    "color": "Blue"
  }
}
    const node = document.createElement('ldf-liturgical-document');
    node.setAttribute('doc', JSON.stringify({
  "hidden": false,
  "type": "refrain",
  "value": [
    " O come, Thou Dayspring, from on high, And cheer us by Thy drawing nigh; Disperse the gloomy clouds of night, And death's dark shadows put to flight."
  ],
  "style": "antiphon"
}));
    node.setAttribute('editable', true);
    node.setAttribute('preview', true);
    node.setAttribute('path', '/');
    document.querySelector('#example').appendChild(node);
  </script>
</body>
</html>
