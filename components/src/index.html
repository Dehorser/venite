<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Venite.app â€” Liturgy Document Format (LDF) Playground</title>

  <!-- Drop in these four lines to run anywhere -->
  <link rel="stylesheet" type="text/css" href="/assets/fontawesome/css/all.css">
  <link rel="stylesheet" href="/build/ldf.css">
  <script type="module" src="/build/ldf.esm.js"></script>
  <script nomodule src="/build/ldf.js"></script>
  <link href="https://fonts.googleapis.com/css?family=EB+Garamond&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300&display=swap" rel="stylesheet">
</head>
<body>
  <i class="fas fa-bible"></i>
  <div id='example'>
    <ldf-editor doc-id='abc123' user-token=''>
      <div slot='controls'>
        <input type='text' id='docId' placeholder='Document ID' name='docId' value='abc123' />
        <input type='text' id='userToken' placeholder='User Token' name='userToken' />
        <button onClick="handleForm()">Join</button>
        <button onClick="leave()">Leave</button>
      </div>
    </ldf-editor>
  </div>

  <script>
  function handleForm() {
    const editNode = document.getElementById('example').childNodes[1],
          doc = document.getElementById('docId').value,
          user = document.getElementById('userToken').value;
    editNode.setAttribute('doc-id', doc);
    editNode.setAttribute('user-token', user);
    console.log(editNode);
  }

  async function leave() {
    await customElements.whenDefined('ldf-editor');
    const component = document.querySelector('ldf-editor');
    await component.leave('abc123');
  }
  </script>

</body>
</html>
