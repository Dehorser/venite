<ion-header>
  <ion-toolbar>
    <ion-title>{{ 'editor.add-block' | translate }}</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="dismissEmpty()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="container">
    <!-- "Page One": menu of options -->
    <ldf-editable-add-block-menu
    (ldfShouldAddBlock)="add($event)"
    [class]="{ 'visible': !additionalMode, 'hidden': !!additionalMode }"
    >
    </ldf-editable-add-block-menu>

    <!-- "Page Two": additional info to look up psalms, canticles, hymns, etc. -->
    <section class="additional" [ngSwitch]="additionalMode" [class]="{ 'visible': !!additionalMode, 'hidden': !additionalMode }">    
    
      <!-- Psalms -->
      <ldf-editable-filter-documents *ngSwitchCase="'psalm'"
          type="psalm"
          [versions]="additionalVersions | async"
          [options]="additionalOptions | async"
          (ldfDocumentSelected)="complete.next([$event.detail])"
      >
      </ldf-editable-filter-documents>

      <!-- Canticles-->
      <venite-canticle-select *ngSwitchCase="'canticle'"
        [tables]="additionalTable | async"
        [versions]="additionalVersions | async"
        [canticles]="additionalOptions | async"
        (canticleSelected)="complete.next([$event])"
      >
      </venite-canticle-select>

      <!-- Lectionary Readings -->
      <venite-lectionary-select *ngSwitchCase="'lectionary'"
        [lectionaries]="additionalVersions | async"
        [readings]="additionalTable | async"
        (readingSelected)="readingSelected($event)"
      >
      </venite-lectionary-select>

    </section>
  </div>
</ion-content>