<ng-container *ngIf="doc$ | async as doc else nodoc">
  <ion-header [translucent]="true">
    <ion-toolbar>
      <ion-buttons collapse="true" slot="start">
        <ion-back-button></ion-back-button>
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>{{ 'Pray the Office' | translate }}</ion-title>
      <ion-buttons collapse="true" slot="end">
        <ion-button *ngIf="userProfile$ | async as user" (click)="editBulletin(user, doc)" aria-label="Edit">
          <ion-icon slot="icon-only" name="create"></ion-icon>
        </ion-button>
        <ion-button *ngIf="settings$ | async as settings" (click)="openSettings(settings)" aria-label="Settings">
          <ion-icon slot="icon-only" name="cog"></ion-icon>
        </ion-button>
        <venite-auth-menu-button></venite-auth-menu-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
</ng-container>

<ng-container *ngIf="doc$ | async as doc else loading">
  <ion-content [fullscreen]="true" class="ion-padding bordered" [style.background]="color$ | async" [style.border-color]="color$ | async">
    <div *ngIf="settings$ | async as settings" [ngClass]="processSettings(settings)">
      <ldf-liturgical-document [doc]="doc" [editable]="false"></ldf-liturgical-document>
    </div>
  </ion-content>
</ng-container>
  
  <ng-template #loading>
    <div class="loading">{{ 'Loading' | translate }}</div>
  </ng-template>